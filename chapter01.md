# فصل اول : ریزپردازنده چیست؟

ریزپردازنده، قلب تپنده و حیاتی یک کامپیوتر است. در واقع، اگر شما قصد داشته باشید کامپیوتری تهیه کنید و برای آن یک پردازنده خوب در نظر نگیرید، در واقع هیچ کاری نکرده اید. تمام محاسبات و عملیات منطقی و ریاضی که در کامپیوتر می‌بینیم، در ریزپردازنده انجام می‌شوند. ریزپردازنده‌ها انواع مختلفی دارند، از چیپ های ساده محاسباتی منطقی که در ماشین حساب به کار می‌روند، تا پیشرفته‌ترین پردازنده های اینتل که مشتری‌های بزرگی چون آژانس امنیت ملی یا سازمان CIA دارد. 
پس، برای این‌که کامپیوتر ما قابل استفاده برای همگان باشد، نیاز به این داریم که برایش یک ریزپردازنده تهیه کنیم. اگر قرار است کامپیوتر را خودمان بسازیم نیز نیاز است که برای آن، ریزپردازنده‌ای طراحی شود. 
در این فصل، در مورد جزئیات موجود در یک ریزپردازنده و ارتباطات آن با سایر بخش‌های کامپیوتر و هم‌چنین ارتباط آن با کاربر صحبت خواهیم کرد. 

## بخش‌های مختلف یک ریزپردازنده
همان‌گونه که گفته شد، ریزپردازنده قلب تپنده و مغز تصمیم گیر برای یک کامپیوتر به شمار می‌آید. برای این که بتوان یک کامپیوتر خوب تهیه یا طراحی کرد، نیاز به در نظر گرفتن یک ریزپردازنده برای آن وجود دارد. در ریزپردازنده های موجود در حال حاضر، معمولا چنین بخش هایی مشاهده می‌شود : 
### واحد محاسبه و منطق 
این واحد، دقیقا بخشی است که تمام عملیاتی که برنامه نویس برایش کد زده است را انجام می‌دهد. شما این قطعه کد ساده را در نظر بگیرید :
```
2 + 2; 
``` 
درست است که این یک جمع ساده است، اما چگونه در کامپیوتر این جمع ساده صورت می‌پذیرد؟ بدون این که اصلا به مراحل تبدیل برنامه های سطح بالا به زبان ماشین فکر کنیم، فرض میکنیم که قرار است تک تک مراحل را دستی به کامپیوتر بدهیم. پس، اولین قدم تبدیل عدد ده‌دهی ۲ به دودویی است : 
```
10 + 10 
``` 
حال، باید بدانیم که به ازای چه «کد ماشین» خاصی، عملیات جمع در کامپیوتر ما صورت میگیرد و در بخش هایی که به Selector معروف هستند، آن را وارد کنیم. 
واحدی که مدارات لازم برای انجام عملیات ریاضی و منطقی را در خود جای داده است را «واحد محاسبه و منطق» و یا ALU میگوییم. که این عبارت، مخفف عبارت انگلیسی Arithmetic and Logical Unit است. 

### واحد حافظه
تمام برنامه هایی که نوشته می‌شوند، تمام فایلهایی که برای اجرای برنامه نیاز داریم، تمامی داده هایی که ممکن است روزی به آن‌ها نیاز پیدا کنیم، باید در جایی ذخیره شوند. از این رو، همواره در سیستم های ریزپردازنده‌ای ، شاهد بخش های مختلفی برای نگهداری اطلاعات هستیم. بخش‌هایی مثل حافظه اصلی، ثبات های درون پردازنده و یا حافظه سخت. 
در واقع، روش کار ریزپردازنده به این صورت است که داده های لازم از واحد حافظه به واحد محاسبه و منطق ارسال می‌شوند، سپس بعد از این که عملیات منطقی و یا ریاضی مورد نیاز ما روی داده های ورودی اعمال شد، به حافظه باز می‌گردد. 

### واحد کنترل
در این واحد،دقیقا نظارت بر ارتباط بین واحد حافظه و واحد محاسبه و منطق صورت می‌گیرد. واحد کنترل دارای بخش‌هایی است که دستورات ارسال شده به واحد محاسبه و منطق را شمارش می‌کند، و از این شمارش برای مقاصد خاص (مثل حلقه های تکرار یا پرش در برنامه ها ) استفاده می‌کند. 
در هر ریزپردازنده‌ای، واحد کنترل وجود داشته و بخش بزرگی از طراحی ریزپردازنده ها، به طراحی و ساخت واحد کنترل اختصاص می‌یابد. 

## میکروکنترلر چیست؟
اگر تمامی بخش های کامپیوتر را درون یک تراشه جمع کنیم، در واقع یک میکروکنترلر ساخته‌ایم. گرچه حافظه و پردازنده، بخش اصلی کامپیوتر ما هستند اما اگر درگاه ها یا گذرگاه هایی که در کامپیوترهای مرسوم مشاهده می‌کنیم را به آن ها اضافه کنیم، قدمی به سوی ساخت میکروکنترلر برداشته ایم. 
همچنین، با اضافه کردن بخشهایی که در کامپیوتر عموما به عنوان یک بخش خارجی در نظر گرفته می‌شوند، مثل واحد زمان‌سنج یا حافظه های سخت، به مجموعه‌ای که به «ماشین فون‌نیومن» معروف است، می‌توانیم میکروکنترلر خود را تکمیل کنیم. 
بدین صورت، آنچه در انتهای کار به آن می‌رسیم یک «میکروکنترلر» نام دارد. 
آنچه که در این کتاب مطالعه خواهید کرد، میکروکنترلر AVR و خانواده ATMega است که روی بردهای آردوینو سوار شده. به این جهت این میکروکنترلرها انتخاب شده اند که علاوه بر معماری ساده‌شان، کاربردهای فراوانی دارند و مهم تر از همه، قلب تپنده آردوینو نیز هستند. 

## معماری AVR 
از آنجایی که بحث تخصصی در مورد معماری کامپیوتر در این کتاب، از حوصله و هدف بسیار دور است، برای مطالعه می‌توانید به این وبسایت مراجعه کنید :
http://exploreembedded.com/wiki/1._AVR_Architecture

## جمع‌بندی
تا اینجا، با ریزپردازنده ها و واحدهای تشکیل دهنده آن‌ها و همچنین میکروکنترلر ها آشنا شدیم. در آخر نیز دانستیم که  قرار است AVR را مورد مطالعه 
و بررسی قرار دهیم. 
در فصل بعد، با مبانی برنامه نویسی به زبان C آشنا خواهیم شد، سپس با بردهای آردوینو آشنا می‌شویم و شروع می‌کنیم به کار کردن با آردوینو. 